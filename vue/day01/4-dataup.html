<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入vue -->
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.js"></script>
    <!-- 引入lodash -->
    <script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.15/lodash.js"></script>
    <title>数据的更新</title>
</head>

<body>
    <div id="app">
        {{arr}}{{msg}}
        <button v-on:click="add">新增</button>
        {{obj}}
    </div>
    <script>
        let vm = new Vue({
            el: '#app',
            data() {
                return {
                    arr:[1,2,3,4,5],
                    msg:'hello',
                    obj:{
                        name:'tom',
                        age:25
                    }
                }
            },methods: {
                add(){
                    // 通过this直接访问到data中数据
                    // this.obj.gender = 'male';
                    // 方式一
                    // this.$set(vm.obj,'gender','male');
                    // 
                    let address = {
                        province:'浙江省',
                        city:'合肥市'
                    }
                    // this.obj = Object.assign({},this.obj,address);

                    Object.assign(this.obj,address);
                    // this.$forceUpdate();

                    // lodash
                    console.log(_.clone);
                    this.obj = _.clone(this.obj);
                }
            }
        })  
        // setInterval(() => {
        //     // 生成随机数
        //     let random = Math.ceil(Math.random()*10);
        //     // 追加到msg后面
        //     // vm.msg+=random;

        //     // vm.arr.push(random);
        //     // vm.arr[vm.arr.length] = random;
        //     vm.arr = [...vm.arr,random];
        //     console.log(vm.arr);

        // }, 2000);
    </script>
</body>

</html>